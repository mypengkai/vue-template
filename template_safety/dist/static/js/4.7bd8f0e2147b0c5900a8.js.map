{"version":3,"sources":["webpack:///./src/units/mathTime.js","webpack:///src/pages/wait/addWait.vue","webpack:///./src/pages/wait/addWait.vue?db84","webpack:///./src/pages/wait/addWait.vue","webpack:///./src/api/banch.js"],"names":["current","code","newDate","arguments","length","undefined","Date","year","getFullYear","mounth","getMonth","day","getDate","hour","getHours","minute","getMinutes","second","getSeconds","addWait","components","banch","__webpack_require__","e","then","bind","project","kind","empty","examine","notify","data","formData","projectId","projectName","sppName","ipId","ipName","sppCheckUserId","sppCheckUserName","sppBeginDate","sppEndDate","sppContent","sppContentName","sppNotifier","sppNotifierName","sppIsCreateSafetyPatrol","sppDepartmentId","sppDepartmentName","spCreatePersonId","spCreatePersonName","flag","isBanch","isProject","isKind","isEmpty","isExamine","isNotify","isTimer","timeState","currentDate","minDate","computed","limit","dateBegin","this","dateDiff","getTime","Math","floor","created","Object","mathTime","$store","state","userID","userName","methods","onClickLeft","$router","back","checkBanch","id","name","checkProject","zid","checKKind","isEmptyCheck","_this","$toast","$nextTick","checKEmpty","conent","names","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","get_iterator_default","next","done","item","value","hdName","err","return","split","checKExamine","isNotifyCheck","_this2","checKNotify","notifyId","notifyName","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","substring","isTimerCheck","val","confirm","onClickRight","_this3","reg","noEmpty","res","success","push","wait_addWait","render","_vm","_h","$createElement","_c","_self","attrs","title","left-text","right-text","left-arrow","on","click-left","click-right","_v","label","readonly","required","model","callback","$$v","$set","expression","is-link","click","$event","slot","_l","index","key","_s","style","width","height","position","cancel","getBanch","getProject","getKind","getEmpty","_e","getExamine","getNotify","type","min-date","staticRenderFns","Component","normalizeComponent","ssrContext","__webpack_exports__","http","get","params","post"],"mappings":"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","file":"static/js/4.7bd8f0e2147b0c5900a8.js","sourcesContent":["// 待办事项标题\r\n\r\nfunction current(code, newDate = new Date()) {\r\n    let year = newDate.getFullYear();\r\n    let mounth = (newDate.getMonth() + 1) > 9 ? `${newDate.getMonth() + 1}` : `0${newDate.getMonth() + 1}`;\r\n    let day = newDate.getDate() > 9 ? `${newDate.getDate()}` : `0${newDate.getDate()}`;\r\n    let hour = newDate.getHours() > 9 ? `${newDate.getHours()}` : `0${newDate.getHours()}`;\r\n    let minute = newDate.getMinutes() > 9 ? `${newDate.getMinutes()}` : `0${newDate.getMinutes()}`;\r\n    let second = newDate.getSeconds() > 9 ? `${newDate.getSeconds()}` : `0${newDate.getSeconds()}`;\r\n    if (code == null) {\r\n        return `${year}-${mounth}-${day}`\r\n    } else {\r\n        return `${code}${year}-${mounth}-${day} ${hour}:${minute}:${second}`\r\n    }\r\n}\r\n\r\nexport default current\n\n\n// WEBPACK FOOTER //\n// ./src/units/mathTime.js","<template>\r\n  <div>\r\n    <!-- 头部 -->\r\n    <van-nav-bar\r\n      title=\"新增待办事项\"\r\n      left-text=\"返回\"\r\n      right-text=\"保存\"\r\n      left-arrow\r\n      @click-left=\"onClickLeft\"\r\n      @click-right=\"onClickRight\"\r\n    />\r\n    <!-- 单元格 -->\r\n    <van-cell-group>\r\n      <van-field label=\"待办名称\" v-model=\"formData.sppName\" readonly required />\r\n      <van-cell\r\n        title=\"巡检部门\"\r\n        :value=\"formData.sppDepartmentName\"\r\n        required\r\n        is-link\r\n        @click=\"isBanch=true\"\r\n      />\r\n      <van-cell\r\n        title=\"巡检位置\"\r\n        :value=\"formData.projectName\"\r\n        required\r\n        is-link\r\n        @click=\"isProject=true\"\r\n      />\r\n      <van-cell title=\"巡检性质\" :value=\"formData.ipName\" required is-link @click=\"isKind=true\" />\r\n      <van-cell title=\"检查项\" required is-link @click=\"isEmptyCheck\">\r\n        <template slot=\"label\">\r\n          <ul>\r\n            <li v-for=\"(item,index) in formData.sppContentName\" :key=\"index\">{{item}}</li>\r\n          </ul>\r\n        </template>\r\n      </van-cell>\r\n      <van-cell\r\n        title=\"检查人\"\r\n        :value=\"formData.sppCheckUserName\"\r\n        required\r\n        is-link\r\n        @click=\"isExamine=true\"\r\n      />\r\n      <van-cell\r\n        title=\"通知人\"\r\n        :label=\"formData.sppNotifierName\"\r\n        required\r\n        is-link\r\n        @click=\"isNotifyCheck\"\r\n      />\r\n      <van-cell\r\n        title=\"开始时间\"\r\n        :value=\"formData.sppBeginDate\"\r\n        required\r\n        is-link\r\n        @click=\"isTimerCheck('start')\"\r\n      />\r\n      <van-cell\r\n        title=\"结束时间\"\r\n        :value=\"formData.sppEndDate\"\r\n        required\r\n        is-link\r\n        @click=\"isTimerCheck('end')\"\r\n      />\r\n      <van-cell title=\"工期（天）\" :value=\"limit\" />\r\n      <van-cell title=\"创建人\" :value=\"formData.spCreatePersonName\" />\r\n    </van-cell-group>\r\n    <!-- 组件 -->\r\n    <!-- 部门 -->\r\n    <van-popup v-model=\"isBanch\" position=\"bottom\" :style=\"{width:'100%',height:'60%'}\">\r\n      <banch @cancel=\"isBanch=false\" @getBanch=\"checkBanch\"></banch>\r\n    </van-popup>\r\n    <!-- 巡检位置 -->\r\n    <van-popup v-model=\"isProject\" position=\"bottom\" :style=\"{width:'100%',height:'60%'}\">\r\n      <project @cancel=\"isProject=false\" @getProject=\"checkProject\"></project>\r\n    </van-popup>\r\n    <!-- 巡检性质 -->\r\n    <van-popup v-model=\"isKind\" position=\"bottom\" :style=\"{width:'100%',height:'60%'}\">\r\n      <kind @cancel=\"isKind=false\" @getKind=\"checKKind\"></kind>\r\n    </van-popup>\r\n    <!-- 检查项 -->\r\n    <van-popup v-model=\"isEmpty\" position=\"bottom\" :style=\"{width:'100%',height:'100%'}\">\r\n      <empty\r\n        @cancel=\"isEmpty=false\"\r\n        @getEmpty=\"checKEmpty\"\r\n        :id=\"this.formData.projectId\"\r\n        v-if=\"flag\"\r\n      ></empty>\r\n    </van-popup>\r\n    <!-- 检查人 -->\r\n    <van-popup v-model=\"isExamine\" position=\"bottom\" :style=\"{width:'100%',height:'60%'}\">\r\n      <examine @cancel=\"isExamine=false\" @getExamine=\"checKExamine\"></examine>\r\n    </van-popup>\r\n    <!-- 通知人 -->\r\n    <van-popup v-model=\"isNotify\" position=\"bottom\" :style=\"{width:'100%',height:'100%'}\">\r\n      <notify @cancel=\"isNotify=false\" @getNotify=\"checKNotify\" v-if=\"flag\"></notify>\r\n    </van-popup>\r\n    <!-- 时间 -->\r\n    <van-popup v-model=\"isTimer\" position=\"bottom\" :style=\"{width:'100%',height:'60%'}\">\r\n      <van-datetime-picker\r\n        v-model=\"currentDate\"\r\n        type=\"date\"\r\n        :min-date=\"minDate\"\r\n        @confirm=\"confirm\"\r\n        @cancel=\"isTimer=false\"\r\n      />\r\n    </van-popup>\r\n  </div>\r\n</template>\r\n<script>\r\nimport current from \"@/units/mathTime\";\r\nimport banch from \"@/api/banch\";\r\nimport tool from \"@/units/reg\";\r\nexport default {\r\n  components: {\r\n    banch: () => import(\"@/components/banch\"),\r\n    project: () => import(\"@/components/project\"),\r\n    kind: () => import(\"@/components/kind\"),\r\n    empty: () => import(\"@/components/empty\"),\r\n    examine: () => import(\"@/components/examine\"),\r\n    notify: () => import(\"@/components/notify\")\r\n  },\r\n  data() {\r\n    return {\r\n      formData: {\r\n        projectId: \"\", // 分部分项\r\n        projectName: \"\", // 分项名称\r\n        sppName: \"\", //计划名称\r\n        ipId: \"\", // 巡检性质 id\r\n        ipName: \"\", // 性质名称\r\n        sppCheckUserId: \"\", // 检查人id\r\n        sppCheckUserName: \"\", // 检查人名称\r\n        sppBeginDate: \"\", // 开始时间\r\n        sppEndDate: \"\", // 结束时间\r\n        sppContent: \"\", // 巡检id（检查项id）\r\n        sppContentName:\"\",  // 巡检内容\r\n        sppNotifier: \"\", // 通知人id\r\n        sppNotifierName: \"\", // 通知人名称\r\n        sppIsCreateSafetyPatrol: 0, // 是否创建（默认0）\r\n        sppDepartmentId: \"\", // 巡检部门id\r\n        sppDepartmentName: \"\", // 巡检部门名称\r\n        spCreatePersonId: \"\", // 创建人id\r\n        spCreatePersonName: \"\" //  创建人名称\r\n      },\r\n      flag: false,\r\n      isBanch: false, // 部门\r\n      isProject: false, // 分项\r\n      isKind: false, // 性质\r\n      isEmpty: false, // 检查项\r\n      isExamine: false, //检查人\r\n      isNotify: false, // 通知人\r\n      isTimer: false, // 时间\r\n      timeState: \"\", // 状态判断\r\n      currentDate: new Date(),\r\n      minDate: new Date()\r\n    };\r\n  },\r\n  computed: {\r\n    limit() {\r\n      var dateBegin = new Date(this.formData.sppBeginDate); //将-转化为/，使用new Date\r\n      var dateEnd = new Date(this.formData.sppEndDate); //获取当前时间\r\n      var dateDiff = dateEnd.getTime() - dateBegin.getTime(); //时间差的毫秒数\r\n      return Math.floor(dateDiff / (24 * 3600 * 1000) + 1) + \"天\"; //计算出相差天数\r\n    }\r\n  },\r\n  created() {\r\n    this.formData.sppName = current(\"AQXJ\", new Date());\r\n    this.formData.spCreatePersonId = this.$store.state.userID;\r\n    this.formData.spCreatePersonName = this.$store.state.userName;\r\n    this.formData.sppBeginDate = current(null, new Date());\r\n    this.formData.sppEndDate = current(null, new Date());\r\n  },\r\n  methods: {\r\n    onClickLeft() {\r\n      this.$router.back();\r\n    },\r\n    // 接收子组件传入的值\r\n    checkBanch(data) {\r\n      this.formData.sppDepartmentId = data.id;\r\n      this.formData.sppDepartmentName = data.name;\r\n    },\r\n    checkProject(data) {\r\n      this.formData.projectId = data.zid;\r\n      this.formData.projectName = data.name;\r\n    },\r\n    checKKind(data) {\r\n      this.formData.ipName = data.ipName;\r\n      this.formData.ipId = data.id;\r\n    },\r\n    isEmptyCheck() {\r\n      if (this.formData.projectId.length == 0) {\r\n        this.$toast(\"请先选择巡检位置\");\r\n        return false;\r\n      }\r\n      this.isEmpty = true;\r\n      this.flag = false;\r\n      this.$nextTick(() => {\r\n        this.flag = true;\r\n      });\r\n    },\r\n    checKEmpty(data) {\r\n      let conent = \"\",names=\"\"\r\n      for (let item of data) {\r\n        conent += item.id + \",\";\r\n        names += item.hdName + ','\r\n      }\r\n      this.formData.sppContent = conent;\r\n      this.formData.sppContentName = names.split(\",\");\r\n    },\r\n    checKExamine(data) {\r\n      this.formData.sppCheckUserId = data.id;\r\n      this.formData.sppCheckUserName = data.name;\r\n    },\r\n    isNotifyCheck() {\r\n      this.isNotify = true;\r\n      this.flag = false;\r\n      this.$nextTick(() => {\r\n        this.flag = true;\r\n      });\r\n    },\r\n    checKNotify(data) {\r\n      let notifyId = \"\",\r\n        notifyName = \"\";\r\n      for (let item of data) {\r\n        notifyId += item.id + \",\";\r\n        notifyName += item.name + \",\";\r\n      }\r\n      this.formData.sppNotifier = notifyId.substring(0, notifyId.length - 1);\r\n      this.formData.sppNotifierName = notifyName.substring(\r\n        0,\r\n        notifyName.length - 1\r\n      );\r\n    },\r\n    isTimerCheck(val) {\r\n      this.isTimer = true;\r\n      this.timeState = val;\r\n    },\r\n    confirm() {\r\n      if (this.timeState == \"start\") {\r\n        this.formData.sppBeginDate = current(null, this.currentDate);\r\n      } else if (this.timeState == \"end\") {\r\n        this.formData.sppEndDate = current(null, this.currentDate);\r\n      }\r\n      this.isTimer = false;\r\n    },\r\n    onClickRight() {\r\n      tool.noEmpty(this.formData.sppCheckUserId, \"请选择检查人\");\r\n      tool.noEmpty(this.formData.sppContent, \"请选择检查项\");\r\n      tool.noEmpty(this.formData.ipId, \"请选择巡检性质\");\r\n      tool.noEmpty(this.formData.projectId, \"请选择巡检位置\");\r\n      tool.noEmpty(this.formData.sppDepartmentId, \"请选择巡检部门\");\r\n      tool.noEmpty(this.formData.sppNotifier, \"请选择通知人\");\r\n      banch.addWait(this.formData).then(res => {\r\n        if (res.data.success == 0) {\r\n          this.$toast(\"新增成功\");\r\n          this.$router.push(\"/wait\");\r\n        }\r\n      });\r\n    }\r\n  }\r\n};\r\n</script>\r\n<style  scoped>\r\n.van-cell__value {\r\n  position: relative;\r\n  overflow: hidden;\r\n  color: rgb(43, 137, 226);\r\n  text-align: right;\r\n  vertical-align: middle;\r\n}\r\n.van-cell__label {\r\n  margin-top: 0.06667rem;\r\n  color: rgb(43, 137, 226);\r\n  font-size: 0.3rem;\r\n  line-height: 0.4rem;\r\n}\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/pages/wait/addWait.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('van-nav-bar',{attrs:{\"title\":\"新增待办事项\",\"left-text\":\"返回\",\"right-text\":\"保存\",\"left-arrow\":\"\"},on:{\"click-left\":_vm.onClickLeft,\"click-right\":_vm.onClickRight}}),_vm._v(\" \"),_c('van-cell-group',[_c('van-field',{attrs:{\"label\":\"待办名称\",\"readonly\":\"\",\"required\":\"\"},model:{value:(_vm.formData.sppName),callback:function ($$v) {_vm.$set(_vm.formData, \"sppName\", $$v)},expression:\"formData.sppName\"}}),_vm._v(\" \"),_c('van-cell',{attrs:{\"title\":\"巡检部门\",\"value\":_vm.formData.sppDepartmentName,\"required\":\"\",\"is-link\":\"\"},on:{\"click\":function($event){_vm.isBanch=true}}}),_vm._v(\" \"),_c('van-cell',{attrs:{\"title\":\"巡检位置\",\"value\":_vm.formData.projectName,\"required\":\"\",\"is-link\":\"\"},on:{\"click\":function($event){_vm.isProject=true}}}),_vm._v(\" \"),_c('van-cell',{attrs:{\"title\":\"巡检性质\",\"value\":_vm.formData.ipName,\"required\":\"\",\"is-link\":\"\"},on:{\"click\":function($event){_vm.isKind=true}}}),_vm._v(\" \"),_c('van-cell',{attrs:{\"title\":\"检查项\",\"required\":\"\",\"is-link\":\"\"},on:{\"click\":_vm.isEmptyCheck}},[_c('template',{slot:\"label\"},[_c('ul',_vm._l((_vm.formData.sppContentName),function(item,index){return _c('li',{key:index},[_vm._v(_vm._s(item))])}),0)])],2),_vm._v(\" \"),_c('van-cell',{attrs:{\"title\":\"检查人\",\"value\":_vm.formData.sppCheckUserName,\"required\":\"\",\"is-link\":\"\"},on:{\"click\":function($event){_vm.isExamine=true}}}),_vm._v(\" \"),_c('van-cell',{attrs:{\"title\":\"通知人\",\"label\":_vm.formData.sppNotifierName,\"required\":\"\",\"is-link\":\"\"},on:{\"click\":_vm.isNotifyCheck}}),_vm._v(\" \"),_c('van-cell',{attrs:{\"title\":\"开始时间\",\"value\":_vm.formData.sppBeginDate,\"required\":\"\",\"is-link\":\"\"},on:{\"click\":function($event){return _vm.isTimerCheck('start')}}}),_vm._v(\" \"),_c('van-cell',{attrs:{\"title\":\"结束时间\",\"value\":_vm.formData.sppEndDate,\"required\":\"\",\"is-link\":\"\"},on:{\"click\":function($event){return _vm.isTimerCheck('end')}}}),_vm._v(\" \"),_c('van-cell',{attrs:{\"title\":\"工期（天）\",\"value\":_vm.limit}}),_vm._v(\" \"),_c('van-cell',{attrs:{\"title\":\"创建人\",\"value\":_vm.formData.spCreatePersonName}})],1),_vm._v(\" \"),_c('van-popup',{style:({width:'100%',height:'60%'}),attrs:{\"position\":\"bottom\"},model:{value:(_vm.isBanch),callback:function ($$v) {_vm.isBanch=$$v},expression:\"isBanch\"}},[_c('banch',{on:{\"cancel\":function($event){_vm.isBanch=false},\"getBanch\":_vm.checkBanch}})],1),_vm._v(\" \"),_c('van-popup',{style:({width:'100%',height:'60%'}),attrs:{\"position\":\"bottom\"},model:{value:(_vm.isProject),callback:function ($$v) {_vm.isProject=$$v},expression:\"isProject\"}},[_c('project',{on:{\"cancel\":function($event){_vm.isProject=false},\"getProject\":_vm.checkProject}})],1),_vm._v(\" \"),_c('van-popup',{style:({width:'100%',height:'60%'}),attrs:{\"position\":\"bottom\"},model:{value:(_vm.isKind),callback:function ($$v) {_vm.isKind=$$v},expression:\"isKind\"}},[_c('kind',{on:{\"cancel\":function($event){_vm.isKind=false},\"getKind\":_vm.checKKind}})],1),_vm._v(\" \"),_c('van-popup',{style:({width:'100%',height:'100%'}),attrs:{\"position\":\"bottom\"},model:{value:(_vm.isEmpty),callback:function ($$v) {_vm.isEmpty=$$v},expression:\"isEmpty\"}},[(_vm.flag)?_c('empty',{attrs:{\"id\":this.formData.projectId},on:{\"cancel\":function($event){_vm.isEmpty=false},\"getEmpty\":_vm.checKEmpty}}):_vm._e()],1),_vm._v(\" \"),_c('van-popup',{style:({width:'100%',height:'60%'}),attrs:{\"position\":\"bottom\"},model:{value:(_vm.isExamine),callback:function ($$v) {_vm.isExamine=$$v},expression:\"isExamine\"}},[_c('examine',{on:{\"cancel\":function($event){_vm.isExamine=false},\"getExamine\":_vm.checKExamine}})],1),_vm._v(\" \"),_c('van-popup',{style:({width:'100%',height:'100%'}),attrs:{\"position\":\"bottom\"},model:{value:(_vm.isNotify),callback:function ($$v) {_vm.isNotify=$$v},expression:\"isNotify\"}},[(_vm.flag)?_c('notify',{on:{\"cancel\":function($event){_vm.isNotify=false},\"getNotify\":_vm.checKNotify}}):_vm._e()],1),_vm._v(\" \"),_c('van-popup',{style:({width:'100%',height:'60%'}),attrs:{\"position\":\"bottom\"},model:{value:(_vm.isTimer),callback:function ($$v) {_vm.isTimer=$$v},expression:\"isTimer\"}},[_c('van-datetime-picker',{attrs:{\"type\":\"date\",\"min-date\":_vm.minDate},on:{\"confirm\":_vm.confirm,\"cancel\":function($event){_vm.isTimer=false}},model:{value:(_vm.currentDate),callback:function ($$v) {_vm.currentDate=$$v},expression:\"currentDate\"}})],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-b74d079c\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/wait/addWait.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-b74d079c\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./addWait.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./addWait.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./addWait.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-b74d079c\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./addWait.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-b74d079c\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/wait/addWait.vue\n// module id = null\n// module chunks = ","\r\nimport http from \"@/api/request\"\r\n\r\nexport default {\r\n    // 组织机构\r\n    getBanch(){\r\n        return http.get(\"/main/getDepartment\")\r\n    },\r\n    //分布分项\r\n    getProject(){\r\n        return http.get(\"/ProjectController/getTreeList\")\r\n    },\r\n    // 巡检性质\r\n    getKind(){\r\n       return http.get(\"/Sq_jc_InspectionPropertyController/getInspectionPropertyList\")\r\n    },\r\n    //检查项\r\n    getEmpty(id=\"\"){\r\n        return http.get(`/Sq_jc_HiddenDangerController/getListTree1?projectId=${id}`)\r\n    },\r\n    //检查人\r\n    getExamine(){\r\n        return http.get(\"/main/getUserByDepart\")\r\n    },\r\n    //通知人\r\n    getNotify(){\r\n        return http.get(\"/main/getname\")\r\n    },\r\n    // 新增待办事项\r\n    addWait(params){\r\n        return http.post(\"/Sq_SafetyPatrolPlanController/addSafetyPatrolPlan\",params)\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/api/banch.js"],"sourceRoot":""}